{"ast":null,"code":"import React from 'react';\nimport './App.css';\nimport SmallText from './components/SmallText.js';\nconst ce = React.createElement; //average / approx payout for publishing for stream\n\nconst avgPubPayout = 0.0007174565191; //handling dsps\n\nlet spotify = {\n  id: 0,\n  name: \"Spotify\",\n  payoutPerStream: 0.00331,\n  marketShareStreams: .2922,\n  marketShareDollars: .4893,\n  includeInCalculations: true\n};\nlet apple = {\n  id: 1,\n  name: \"Apple Music\",\n  payoutPerStream: 0.00495,\n  marketShareStreams: .0995,\n  marketShareDollars: .2497,\n  includeInCalculations: true\n};\nlet youtube = {\n  id: 2,\n  name: \"Youtube Content ld\",\n  payoutPerStream: 0.00028,\n  marketShareStreams: .4858,\n  marketShareDollars: .0699,\n  includeInCalculations: true\n};\nlet amazon = {\n  id: 3,\n  name: \"Amazon Unlimited\",\n  payoutPerStream: 0.01175,\n  marketShareStreams: .0068,\n  marketShareDollars: .0404,\n  includeInCalculations: true\n};\nlet google = {\n  id: 4,\n  name: \"Google Play\",\n  payoutPerStream: 0.00543,\n  marketShareStreams: .0112,\n  marketShareDollars: .0308,\n  includeInCalculations: true\n};\nlet pandora = {\n  id: 5,\n  name: \"Pandora\",\n  payoutPerStream: 0.00155,\n  marketShareStreams: .0386,\n  marketShareDollars: .0303,\n  includeInCalculations: true\n};\nlet deezer = {\n  id: 6,\n  name: \"Deezer\",\n  payoutPerStream: 0.00567,\n  marketShareStreams: .0091,\n  marketShareDollars: .026,\n  includeInCalculations: true\n};\nlet amazonDig = {\n  id: 7,\n  name: \"Amazon Digital Services\",\n  payoutPerStream: 0.00395,\n  marketShareStreams: .0095,\n  marketShareDollars: .019,\n  includeInCalculations: true\n};\nlet tidal = {\n  id: 8,\n  name: \"TIDAL\",\n  payoutPerStream: 0.00927,\n  marketShareStreams: 0.0021,\n  marketShareDollars: 0.0098,\n  includeInCalculations: true\n};\nlet others = {\n  id: 9,\n  name: \"Napster / Rhapsody\",\n  payoutPerStream: 0.0111,\n  marketShareStreams: 0.0014,\n  marketShareDollars: 0.0080,\n  includeInCalculations: true\n};\n\nclass CalcPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      providers: [spotify, apple, youtube, amazon, google, pandora, deezer, amazonDig, tidal, others],\n      streamNumber: null,\n      role: null,\n      recordDeal: [],\n      publishDeal: [],\n      sliderValue: null,\n      recordDealSelected: null,\n      publishingDealSelected: null,\n      advance: null,\n      costs: null,\n      grossRev: 0,\n      publisherEarnings: 0,\n      writerEarnings: 0,\n      totalEarnings: 0\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"mounted\");\n    this.buildRecordDealSelect();\n    this.handleRoleButton(\"Writer & Artist\");\n    this.buildPublishingDealSelect();\n    this.setSliderValue(50);\n    this.testMap(); //this.buildDspsArr();\n\n    this.setInitialStates();\n  }\n\n  render() {\n    return ce('div', null, ce('h2', {\n      className: \"font\"\n    }, 'Welcome to the Revenue Calculator'), ce('input', {\n      id: \"estStreams\",\n      type: \"text\",\n      placeholder: \"Enter Est. Streams\",\n      onChange: e => this.changeStreams(e)\n    }), ce('br'), ce('text', null, 'Role: '),\n    /*ce('select', {onChange: e => this.handleRoleSelect(e)}, \n        this.state.roles.map(role => ce('option', {key: role.id}, role.name))\n        ),*/\n    ce('button', {\n      onClick: e => this.handleRoleButton(\"artist\")\n    }, 'Artist Only'), ce('button', {\n      onClick: e => this.handleRoleButton(\"writer\")\n    }, 'Writer Only'), ce('button', {\n      onClick: e => this.handleRoleButton(\"both\")\n    }, 'Writer & Artist'), ce('br'), ce('text', null, 'Record Deal Type: '), ce('select', {\n      onChange: e => this.handleRecDealSelect(e)\n    }, this.state.recordDeal.map(deal => ce('option', {\n      key: deal.id\n    }, deal.name))), ce('br'), ce('text', null, 'Publishing Deal Type: '), ce('select', {\n      onChange: e => this.handlePublishingDealSelect(e)\n    }, this.state.publishDeal.map(deal => ce('option', {\n      key: deal.id\n    }, deal.name))), ce('br'), ce('text', null, 'Deal Split: '), ce('input', {\n      type: 'range',\n      min: '1',\n      max: '100',\n      id: 'splitSlider',\n      onChange: e => this.updateSlider(e)\n    }), ce('text', null, 'Guaranteed Income: '), ce('input', {\n      id: \"fromAdvance\",\n      placeholder: \"From Advance\",\n      onChange: e => this.updateAdvance(e)\n    }), ce('br'), ce('text', null, 'Costs: '), ce('input', {\n      placeholder: 'Costs',\n      onChange: e => this.updateCosts(e)\n    }), ce('br'), ce('text', null, 'Recoupable: '), ce('input', {\n      type: 'checkbox',\n      checked: 'true'\n    }), ce('br'), ce('text', null, 'DSPs'), ce('br'), ce('table', {\n      id: 'dspTable'\n    }, ce('thead', null, ce('tr', null, ce('th', null, \"Platform\"), ce('th', null, \"Include\"))), ce('tbody', null, this.state.providers.map(provider => ce('tr', null, ce('td', null, ce('input', {\n      placeholder: provider.name\n    })), ce('td', null, ce('input', {\n      type: 'checkbox',\n      checked: provider.includeInCalculations,\n      onChange: e => this.toggleMe(provider.id)\n    })))))), ce('br'), //ce('button', {onClick: e => this.calculate()}, 'Calculate'),\n    //ce('br'),\n    ce('text', null, 'Total Revenue: '), ce('br'), ce('text', null, 'Gross Revenue: '), ce('input', {\n      value: this.state.grossRev\n    }), ce('br'), ce('text', null, 'Total Money Needed to Recoupe: '), ce('input', {\n      value: 0\n    }), ce('br'), ce('text', null, 'Unrecouped: '), ce('br'), ce('text', null, 'Label Earnings: '), ce('input', {\n      value: this.state.publisherEarnings\n    }), ce('text', null, 'Writer Earnings: '), ce('input', {\n      value: this.state.writerEarnings\n    }), ce('br'), ce('text', null, 'TOTAL EARNINGS: '), ce('input', {\n      value: this.state.totalEarnings\n    }), ce('br'));\n  }\n\n  testMap() {\n    this.state.providers.map(provider => console.log(provider.name)); //this.state.providers.map(provider => ce('tr', null, ce('td', null, ce('text', null, provider.name))), ce('tr', null, ce('td', null, ce('input', {type: 'checkbox', checked: provider.includeInCalculations, onClick: e => this.toggleMe(provider.id)}))))\n  }\n\n  setInitialStates() {\n    this.setState({\n      streamNumber: 1000000000,\n      role: \"Writer & Artist\",\n      recordDealDelected: \"Royalty\",\n      publishingDealSelected: \"Full/Traditional\",\n      advance: 0,\n      costs: 0,\n      grossRev: 0,\n      publisherEarnings: 0,\n      writerEarnings: 0,\n      totalEarnings: 0\n    });\n    console.log(this.state.providers);\n  }\n\n  changeStreams(e) {\n    console.log(\"changed streams to: \" + e.target.value);\n    this.setState({\n      streamNumber: e.target.value\n    });\n  }\n\n  updateAdvance(e) {\n    console.log(\"changed advance to: \" + e.target.value);\n    this.setState({\n      advance: e.target.value\n    });\n  }\n\n  updateCosts(e) {\n    console.log(\"changed costs to: \" + e.target.value);\n    this.setState({\n      costs: e.target.value\n    });\n  }\n\n  setSliderValue(val) {\n    this.setState({\n      sliderValue: val\n    });\n  }\n\n  updateSlider(e) {\n    console.log(e.target.value); //val = document.getElementById(\"splitSlider\").value()\n\n    this.setState({\n      sliderValue: e.target.value\n    });\n  }\n\n  buildPublishingDealSelect() {\n    let fullTrad = {\n      id: 0,\n      name: \"Full/Traditional\"\n    };\n    let coPublishing = {\n      id: 1,\n      name: \"Co-Publishing\"\n    };\n    let adminDeal = {\n      id: 2,\n      name: \"Admin Deal\"\n    };\n    let noDeal = {\n      id: 3,\n      name: \"No Deal\"\n    };\n    let deals = [fullTrad, coPublishing, adminDeal, noDeal];\n    this.setState({\n      publishDeal: deals\n    });\n  }\n\n  handlePublishingDealSelect(e) {\n    console.log(e.target.value);\n    this.setState({\n      publishingDealSelected: e.target.value\n    });\n  }\n\n  handleRoleButton(which) {\n    console.log(which);\n    this.setState({\n      role: which\n    });\n  } // handleRecDealSelect(e)\n\n\n  handleRecDealSelect(e) {\n    //console.log(\"selecting Roles\");\n    console.log(e.target.value);\n    this.setState({\n      recordDealSelected: e.target.value\n    });\n  }\n\n  buildRecordDealSelect() {\n    //console.log(\"Roles!\");\n    let royalty = {\n      id: 0,\n      name: \"Royalty\"\n    };\n    let netProfit = {\n      id: 1,\n      name: \"Net Profit\"\n    };\n    let distributionPercent = {\n      id: 2,\n      name: \"Distribution Percent\"\n    };\n    let labelServices = {\n      id: 3,\n      name: \"Label Services\"\n    };\n    let rls = [royalty, netProfit, distributionPercent, labelServices];\n    this.setState({\n      recordDeal: rls\n    });\n  } ///////// DSP Stuff ///////\n\n\n  buildDspsArr() {\n    //handling dsps\n    let spotify = {\n      id: 0,\n      name: \"Spotify\",\n      payoutPerStream: 0.00331,\n      marketShareStreams: .2922,\n      marketShareDollars: .4893,\n      includeInCalculations: true\n    };\n    let apple = {\n      id: 1,\n      name: \"Apple Music\",\n      payoutPerStream: 0.00495,\n      marketShareStreams: .0995,\n      marketShareDollars: .2497,\n      includeInCalculations: true\n    };\n    let youtube = {\n      id: 2,\n      name: \"Youtube Content ld\",\n      payoutPerStream: 0.00028,\n      marketShareStreams: .4858,\n      marketShareDollars: .0699,\n      includeInCalculations: true\n    };\n    let amazon = {\n      id: 3,\n      name: \"Amazon Unlimited\",\n      payoutPerStream: 0.01175,\n      marketShareStreams: .0068,\n      marketShareDollars: .0404,\n      includeInCalculations: true\n    };\n    let google = {\n      id: 4,\n      name: \"Google Play\",\n      payoutPerStream: 0.00543,\n      marketShareStreams: .0112,\n      marketShareDollars: .0308,\n      includeInCalculations: true\n    };\n    let pandora = {\n      id: 5,\n      name: \"Pandora\",\n      payoutPerStream: 0.00155,\n      marketShareStreams: .0386,\n      marketShareDollars: .0303,\n      includeInCalculations: true\n    };\n    let deezer = {\n      id: 6,\n      name: \"Deezer\",\n      payoutPerStream: 0.00567,\n      marketShareStreams: .0091,\n      marketShareDollars: .026,\n      includeInCalculations: true\n    };\n    let amazonDig = {\n      id: 7,\n      name: \"Amazon Digital Services\",\n      payoutPerStream: 0.00395,\n      marketShareStreams: .0095,\n      marketShareDollars: .019,\n      includeInCalculations: true\n    };\n    let tidal = {\n      id: 8,\n      name: \"TIDAL\",\n      payoutPerStream: 0.00927,\n      marketShareStreams: 0.0021,\n      marketShareDollars: 0.0098,\n      includeInCalculations: true\n    };\n    let others = {\n      id: 9,\n      name: \"Napster / Rhapsody\",\n      payoutPerStream: 0.0111,\n      marketShareStreams: 0.0014,\n      marketShareDollars: 0.0080,\n      includeInCalculations: true\n    };\n    let dsps = [spotify, apple, youtube, amazon, google, pandora, deezer, amazonDig, tidal, others];\n    console.log(dsps);\n    this.setState({\n      providers: dsps\n    });\n  }\n\n  toggleMe(index) {\n    this.state.providers[index].includeInCalculations = !this.state.providers[index].includeInCalculations; //console.log(dsps[index].name);\n    //console.log(dsps[index].includeInCalculations);\n  } /// MATH STUFF /////\n\n\n  calculate() {\n    this.getPublisherShare();\n    console.log(\"calculating\");\n    let artistShare;\n    let labelShare; // Why are there double semi-colons?\n    //prob a typo\n\n    let totalMoneyToRecoupe = this.state.advance + this.state.allCosts;\n    let grossRevenue = this.state.estStreams * this.weightedAverageOfSelected(); //checkDSPs();\n    //console.log(estStreams.value * avgPayout);\n    //console.log(estStreams.value * weightedAverageOfSelected());\n\n    if (dealType.value == \"royalty\") {\n      // Artist Split\n      if (grossRevenue * (parseFloat(artistDeal.value) / 100) <= totalMoneyToRecoupe) {\n        console.log(\"unrecouped\");\n        artistShare = 0;\n      } else {\n        artistShare = grossRevenue * (parseFloat(artistDeal.value) / 100) - totalMoneyToRecoupe;\n      }\n\n      labelShare = grossRevenue * (1 - parseFloat(artistDeal.value) / 100);\n    } else if (dealType.value == \"netProfit\" || dealType.value == \"distributionPercent\" || dealType.value == \"distFee\") {\n      //net profit deals are generally guaranteed 50/50, distribution are generally 70/30 artist/label\n      let profit = grossRevenue - parseFloat(allCosts.value); // Artist Split\n\n      if (profit * (parseFloat(artistDeal.value) / 100) - parseFloat(advance.value) < 0) {\n        console.log(\"unrecouped\");\n        artistShare = 0;\n      } else {\n        artistShare = profit * (parseFloat(artistDeal.value) / 100) - parseFloat(advance.value);\n      } // Label Split Net Profit, Distributions\n\n\n      if (dealType.value == \"netProfit\" || dealType.value == \"distributionPercent\") {\n        if (profit < 0) {\n          labelShare = 0;\n        } else {\n          labelShare = profit * (1 - parseFloat(artistDeal.value) / 100);\n        }\n      } else labelShare = grossRevenue - artistShare;\n      /* Nik Label Share for Net Profit, %Distribution Deals\n      if(profit < 0){\n        labelShare = 0;\n      } else {\n        labelShare = (profit * (1-(parseFloat(artistDeal.value)/100)));\n      }\n      */\n\n    } else if (dealType.value == \"labelServices\") {\n      // Artist Split\n      if (grossRevenue * (parseFloat(artistDeal.value) / 100) <= totalMoneyToRecoupe) {\n        console.log(\"unrecouped\");\n        artistShare = 0;\n      } else {\n        artistShare = grossRevenue * (parseFloat(artistDeal.value) / 100) - totalMoneyToRecoupe;\n      }\n\n      labelShare = grossRevenue * (1 - parseFloat(artistDeal.value) / 100) + allCosts.value; //extra menu items would be factored into costs\n    }\n\n    grossRev.value = grossRevenue;\n    totRecoupe.value = totalMoneyToRecoupe;\n    earningsArtist.value = artistShare;\n    earningsPublisher.value = labelShare;\n    getTotalEarnings(artistShare);\n  }\n\n  getPublisherShare() {\n    let pubGrossRevenue = avgPubPayout * this.state.estStreams;\n    let pubPerformanceRevenue = pubGrossRevenue * .5;\n    let pubMechanicalRevenue = pubGrossRevenue * .5;\n    let pubPROAdminFee = pubPerformanceRevenue * .165;\n    let pubMechanicalAdminFee = pubMechanicalRevenue * .15;\n    let pubMechanicalRecordFee = (pubMechanicalRevenue - pubMechanicalAdminFee) * .3;\n    let publisherPercentage;\n\n    if (this.state.publishingDealSelected == \"fullTrad\") {\n      publisherPercentage = 1.0;\n      this.state.publisherShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 * publisherPercentage;\n      this.state.writerShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 + (pubPerformanceRevenue - pubPROAdminFee) * .5 * (1 - publisherPercentage) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n    } else if (this.state.publishingDealSelected == \"coPublishing\") {\n      publisherPercentage = 0.5;\n      this.state.publisherShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 * publisherPercentage;\n      this.state.writerShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 + (pubPerformanceRevenue - pubPROAdminFee) * .5 * (1 - publisherPercentage) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n    } else if (this.state.publishingDealSelected == \"adminDeal\") {\n      publisherPercentage = 0.1;\n      this.state.publisherShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 * publisherPercentage;\n      this.state.writerShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 + (pubPerformanceRevenue - pubPROAdminFee) * .5 * (1 - publisherPercentage) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n    } else if (this.state.publishingDealSelected == \"noDeal\") {\n      publisherPercentage = 0.0;\n      this.state.publisherShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 * publisherPercentage;\n      this.state.writerShare = (pubPerformanceRevenue - pubPROAdminFee) * .5 + (pubPerformanceRevenue - pubPROAdminFee) * .5 * (1 - publisherPercentage) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n    }\n  }\n\n  weightedAverageOfSelected() {\n    let sum = 0.0;\n\n    for (let i = 0; i < this.state.providers.length; i++) {\n      if (this.state.providers[i].includeInCalculations) {\n        sum += this.state.providers[i].payoutPerStream * this.state.providers[i].marketShareStreams;\n      }\n    }\n\n    let sumOfWeights = 0.0;\n\n    for (let i = 0; i < this.state.providers.length; i++) {\n      sumOfWeights += this.state.providers[i].marketShareStreams;\n    }\n\n    console.log(sum / sumOfWeights);\n    return sum / sumOfWeights;\n  }\n\n}\n\nexport default CalcPage;","map":{"version":3,"sources":["/Users/samvincent/Desktop/MusicStreamingCalculator/src/CalcPage.js"],"names":["React","SmallText","ce","createElement","avgPubPayout","spotify","id","name","payoutPerStream","marketShareStreams","marketShareDollars","includeInCalculations","apple","youtube","amazon","google","pandora","deezer","amazonDig","tidal","others","CalcPage","Component","constructor","props","state","providers","streamNumber","role","recordDeal","publishDeal","sliderValue","recordDealSelected","publishingDealSelected","advance","costs","grossRev","publisherEarnings","writerEarnings","totalEarnings","componentDidMount","console","log","buildRecordDealSelect","handleRoleButton","buildPublishingDealSelect","setSliderValue","testMap","setInitialStates","render","className","type","placeholder","onChange","e","changeStreams","onClick","handleRecDealSelect","map","deal","key","handlePublishingDealSelect","min","max","updateSlider","updateAdvance","updateCosts","checked","provider","toggleMe","value","setState","recordDealDelected","target","val","fullTrad","coPublishing","adminDeal","noDeal","deals","which","royalty","netProfit","distributionPercent","labelServices","rls","buildDspsArr","dsps","index","calculate","getPublisherShare","artistShare","labelShare","totalMoneyToRecoupe","allCosts","grossRevenue","estStreams","weightedAverageOfSelected","dealType","parseFloat","artistDeal","profit","totRecoupe","earningsArtist","earningsPublisher","getTotalEarnings","pubGrossRevenue","pubPerformanceRevenue","pubMechanicalRevenue","pubPROAdminFee","pubMechanicalAdminFee","pubMechanicalRecordFee","publisherPercentage","publisherShare","writerShare","sum","i","length","sumOfWeights"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport SmallText from './components/SmallText.js';\n\nconst ce = React.createElement;\n\n\n//average / approx payout for publishing for stream\nconst avgPubPayout = 0.0007174565191\n\n        //handling dsps\n        let spotify = {\n          id: 0,\n          name: \"Spotify\",\n          payoutPerStream: 0.00331,\n          marketShareStreams: .2922,\n            marketShareDollars: .4893,\n            includeInCalculations: true\n        };\n        let apple = {\n          id: 1,\n          name: \"Apple Music\",\n          payoutPerStream: 0.00495,\n          marketShareStreams: .0995,\n            marketShareDollars: .2497,\n            includeInCalculations: true\n        };\n        let youtube = {\n          id: 2,\n          name: \"Youtube Content ld\",\n          payoutPerStream: 0.00028,\n          marketShareStreams: .4858,\n            marketShareDollars: .0699,\n            includeInCalculations: true\n        };\n        let amazon = {\n          id: 3,\n          name: \"Amazon Unlimited\",\n          payoutPerStream: 0.01175,\n          marketShareStreams: .0068,\n            marketShareDollars: .0404,\n            includeInCalculations: true\n        };\n        let google = {\n          id: 4,\n          name: \"Google Play\",\n          payoutPerStream: 0.00543,\n          marketShareStreams: .0112,\n            marketShareDollars: .0308,\n            includeInCalculations: true\n        };\n        let pandora = {\n          id: 5,\n          name: \"Pandora\",\n          payoutPerStream: 0.00155,\n          marketShareStreams: .0386,\n            marketShareDollars: .0303,\n            includeInCalculations: true\n        };\n        let deezer = {\n          id: 6,\n          name: \"Deezer\",\n          payoutPerStream: 0.00567,\n          marketShareStreams: .0091,\n            marketShareDollars: .026,\n            includeInCalculations: true\n        };\n        let amazonDig = {\n          id: 7,\n          name: \"Amazon Digital Services\",\n          payoutPerStream: 0.00395,\n          marketShareStreams: .0095,\n            marketShareDollars: .019,\n            includeInCalculations: true\n        };\n        let tidal = {\n          id: 8,\n          name: \"TIDAL\",\n          payoutPerStream: 0.00927,\n          marketShareStreams: 0.0021,\n            marketShareDollars: 0.0098,\n            includeInCalculations: true\n        };\n        let others = {\n          id: 9,\n          name: \"Napster / Rhapsody\",\n          payoutPerStream: 0.0111,\n          marketShareStreams: 0.0014,\n            marketShareDollars: 0.0080,\n            includeInCalculations: true\n        };\n\n\nclass CalcPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            providers: [spotify, apple, youtube, amazon, google, pandora, deezer, amazonDig, tidal, others],\n            streamNumber: null,\n            role: null,\n            recordDeal: [],\n            publishDeal: [],\n            sliderValue: null,\n            recordDealSelected: null,\n            publishingDealSelected: null,\n            advance: null,\n            costs: null,\n            grossRev: 0,\n            publisherEarnings: 0,\n            writerEarnings: 0,\n            totalEarnings: 0\n        };\n\n    }\n\n    componentDidMount() {\n        console.log(\"mounted\");\n        this.buildRecordDealSelect();\n        this.handleRoleButton(\"Writer & Artist\");\n        this.buildPublishingDealSelect();\n        this.setSliderValue(50);\n        this.testMap();\n        //this.buildDspsArr();\n        this.setInitialStates();\n    }\n\n    render() {\n      return ce('div', null,\n        ce('h2', {className: \"font\"}, 'Welcome to the Revenue Calculator'),\n            ce('input', {id: \"estStreams\", type: \"text\", placeholder: \"Enter Est. Streams\", onChange: e => this.changeStreams(e)}),\n            ce('br'),\n            ce('text', null, 'Role: '),\n            /*ce('select', {onChange: e => this.handleRoleSelect(e)}, \n                this.state.roles.map(role => ce('option', {key: role.id}, role.name))\n                ),*/\n            ce('button', {onClick: e => this.handleRoleButton(\"artist\")}, 'Artist Only'),\n            ce('button', {onClick: e => this.handleRoleButton(\"writer\")}, 'Writer Only'),\n            ce('button', {onClick: e => this.handleRoleButton(\"both\")}, 'Writer & Artist'),\n            ce('br'),\n            ce('text', null, 'Record Deal Type: '),\n            ce('select', {onChange: e => this.handleRecDealSelect(e)}, \n                this.state.recordDeal.map(deal => ce('option', {key: deal.id}, deal.name))\n                ),\n            ce('br'),\n            ce('text', null, 'Publishing Deal Type: '),\n            ce('select', {onChange: e => this.handlePublishingDealSelect(e)},\n                this.state.publishDeal.map(deal => ce('option', {key: deal.id}, deal.name))\n                ),\n            ce('br'),\n            ce('text', null, 'Deal Split: '),\n            ce('input', {type: 'range', min: '1', max: '100', id: 'splitSlider', onChange: e => this.updateSlider(e)}),\n            ce('text', null, 'Guaranteed Income: '),\n            ce('input', {id: \"fromAdvance\", placeholder: \"From Advance\", onChange: e => this.updateAdvance(e)}),\n            ce('br'),\n            ce('text', null, 'Costs: '),\n            ce('input', {placeholder: 'Costs', onChange: e => this.updateCosts(e)}),\n            ce('br'),\n            ce('text', null, 'Recoupable: '),\n            ce('input', {type: 'checkbox', checked: 'true'}),\n            ce('br'),\n            ce('text', null, 'DSPs'),\n            ce('br'),\n            ce('table', {id: 'dspTable'}, \n              ce('thead', null, ce('tr', null, ce('th', null, \"Platform\"), ce('th', null, \"Include\"))),\n              ce('tbody', null, this.state.providers.map(provider => ce('tr', null, ce('td', null, ce('input', {placeholder: provider.name})), ce('td', null, ce('input', {type: 'checkbox', checked: provider.includeInCalculations, onChange: e => this.toggleMe(provider.id)})))))\n            ),\n            ce('br'),\n            //ce('button', {onClick: e => this.calculate()}, 'Calculate'),\n            //ce('br'),\n            ce('text', null, 'Total Revenue: '),\n            ce('br'),\n            ce('text', null, 'Gross Revenue: '),\n            ce('input', {value: this.state.grossRev}),\n            ce('br'),\n            ce('text', null, 'Total Money Needed to Recoupe: '),\n            ce('input', {value: 0}),\n            ce('br'),\n            ce('text', null, 'Unrecouped: '),\n            ce('br'),\n            ce('text', null, 'Label Earnings: '),\n            ce('input', {value: this.state.publisherEarnings}),\n            ce('text', null, 'Writer Earnings: '),\n            ce('input', {value: this.state.writerEarnings}),\n            ce('br'),\n            ce('text', null, 'TOTAL EARNINGS: '),\n            ce('input', {value: this.state.totalEarnings}),\n            ce('br')\n            \n        )\n\n    }\n\n    testMap() {\n      this.state.providers.map(provider => console.log(provider.name));\n      //this.state.providers.map(provider => ce('tr', null, ce('td', null, ce('text', null, provider.name))), ce('tr', null, ce('td', null, ce('input', {type: 'checkbox', checked: provider.includeInCalculations, onClick: e => this.toggleMe(provider.id)}))))\n    }\n\n    setInitialStates() {\n\n      this.setState({streamNumber: 1000000000,role: \"Writer & Artist\", recordDealDelected: \"Royalty\", publishingDealSelected: \"Full/Traditional\", advance: 0, costs: 0, grossRev: 0, publisherEarnings: 0, writerEarnings: 0, totalEarnings: 0});\n\n      console.log(this.state.providers)\n    }\n\n    changeStreams(e) {\n        console.log(\"changed streams to: \" + e.target.value);\n        this.setState({streamNumber: e.target.value});\n    }\n\n    updateAdvance(e) {\n      console.log(\"changed advance to: \" + e.target.value);\n      this.setState({advance: e.target.value});\n    }\n\n    updateCosts(e) {\n        console.log(\"changed costs to: \" + e.target.value);\n        this.setState({costs: e.target.value});\n    }\n\n    setSliderValue(val) {\n        this.setState( {sliderValue: val})\n    }\n    updateSlider(e) {\n        console.log(e.target.value)\n        //val = document.getElementById(\"splitSlider\").value()\n        this.setState( {sliderValue: e.target.value})\n    }\n\n    buildPublishingDealSelect() {\n        let fullTrad = {\n            id: 0,\n            name: \"Full/Traditional\"\n        }\n        let coPublishing = {\n            id: 1,\n            name: \"Co-Publishing\"\n        }\n        let adminDeal = {\n            id: 2,\n            name: \"Admin Deal\"\n        }\n        let noDeal = {\n            id: 3,\n            name: \"No Deal\"\n        }\n        let deals = [fullTrad, coPublishing, adminDeal, noDeal]\n        this.setState( {publishDeal: deals})\n    }\n\n    handlePublishingDealSelect(e) {\n        console.log(e.target.value);\n        this.setState({publishingDealSelected: e.target.value})\n    }\n\n\n    handleRoleButton(which) {\n        console.log(which);\n        this.setState({role: which})\n    }\n\n   // handleRecDealSelect(e)\n\n    handleRecDealSelect(e) {\n        //console.log(\"selecting Roles\");\n        console.log(e.target.value);\n        this.setState({recordDealSelected: e.target.value})\n    }\n\n    buildRecordDealSelect() {\n        //console.log(\"Roles!\");\n        let royalty = {\n            id: 0,\n            name: \"Royalty\"\n        };\n        let netProfit = {\n            id: 1,\n            name: \"Net Profit\"\n        };\n        let distributionPercent = {\n            id: 2,\n            name: \"Distribution Percent\"\n        };\n        let labelServices = {\n            id: 3,\n            name: \"Label Services\"\n        }\n\n        let rls = [royalty, netProfit, distributionPercent, labelServices];\n        this.setState( {recordDeal: rls} );\n    }\n\n    ///////// DSP Stuff ///////\n\n    buildDspsArr() {\n\n        //handling dsps\n        let spotify = {\n          id: 0,\n          name: \"Spotify\",\n          payoutPerStream: 0.00331,\n          marketShareStreams: .2922,\n            marketShareDollars: .4893,\n            includeInCalculations: true\n        };\n        let apple = {\n          id: 1,\n          name: \"Apple Music\",\n          payoutPerStream: 0.00495,\n          marketShareStreams: .0995,\n            marketShareDollars: .2497,\n            includeInCalculations: true\n        };\n        let youtube = {\n          id: 2,\n          name: \"Youtube Content ld\",\n          payoutPerStream: 0.00028,\n          marketShareStreams: .4858,\n            marketShareDollars: .0699,\n            includeInCalculations: true\n        };\n        let amazon = {\n          id: 3,\n          name: \"Amazon Unlimited\",\n          payoutPerStream: 0.01175,\n          marketShareStreams: .0068,\n            marketShareDollars: .0404,\n            includeInCalculations: true\n        };\n        let google = {\n          id: 4,\n          name: \"Google Play\",\n          payoutPerStream: 0.00543,\n          marketShareStreams: .0112,\n            marketShareDollars: .0308,\n            includeInCalculations: true\n        };\n        let pandora = {\n          id: 5,\n          name: \"Pandora\",\n          payoutPerStream: 0.00155,\n          marketShareStreams: .0386,\n            marketShareDollars: .0303,\n            includeInCalculations: true\n        };\n        let deezer = {\n          id: 6,\n          name: \"Deezer\",\n          payoutPerStream: 0.00567,\n          marketShareStreams: .0091,\n            marketShareDollars: .026,\n            includeInCalculations: true\n        };\n        let amazonDig = {\n          id: 7,\n          name: \"Amazon Digital Services\",\n          payoutPerStream: 0.00395,\n          marketShareStreams: .0095,\n            marketShareDollars: .019,\n            includeInCalculations: true\n        };\n        let tidal = {\n          id: 8,\n          name: \"TIDAL\",\n          payoutPerStream: 0.00927,\n          marketShareStreams: 0.0021,\n            marketShareDollars: 0.0098,\n            includeInCalculations: true\n        };\n        let others = {\n          id: 9,\n          name: \"Napster / Rhapsody\",\n          payoutPerStream: 0.0111,\n          marketShareStreams: 0.0014,\n            marketShareDollars: 0.0080,\n            includeInCalculations: true\n        };\n        let dsps = [spotify, apple, youtube, amazon, google, pandora, deezer, amazonDig, tidal, others];\n        console.log(dsps)\n\n        this.setState( {providers: dsps} );\n\n    }\n\n    toggleMe(index) {\n      this.state.providers[index].includeInCalculations = !this.state.providers[index].includeInCalculations;\n      //console.log(dsps[index].name);\n      //console.log(dsps[index].includeInCalculations);\n    }\n\n    /// MATH STUFF /////\n    calculate() {\n        this.getPublisherShare();\n\n        console.log(\"calculating\");\n        let artistShare;\n        let labelShare;\n        // Why are there double semi-colons?\n                   //prob a typo\n        let totalMoneyToRecoupe = this.state.advance + this.state.allCosts;\n        let grossRevenue= this.state.estStreams * this.weightedAverageOfSelected();\n\n        //checkDSPs();\n        //console.log(estStreams.value * avgPayout);\n        //console.log(estStreams.value * weightedAverageOfSelected());\n        if (dealType.value == \"royalty\") {\n            // Artist Split\n            if((grossRevenue * (parseFloat(artistDeal.value)/100)) <= totalMoneyToRecoupe){\n              console.log(\"unrecouped\");\n              artistShare = 0;\n            } else {\n              artistShare = (grossRevenue * (parseFloat(artistDeal.value)/100)) - totalMoneyToRecoupe;\n            }\n            labelShare = grossRevenue * (1-(parseFloat(artistDeal.value)/100));\n\n        } else if (dealType.value == \"netProfit\" || dealType.value == \"distributionPercent\" || dealType.value == \"distFee\") {\n            //net profit deals are generally guaranteed 50/50, distribution are generally 70/30 artist/label\n            let profit = (grossRevenue - parseFloat(allCosts.value));\n            // Artist Split\n            if(((profit * (parseFloat(artistDeal.value)/100)) - parseFloat(advance.value)) < 0){\n              console.log(\"unrecouped\");\n              artistShare = 0;\n            } else {\n              artistShare = (profit * (parseFloat(artistDeal.value)/100)) - parseFloat(advance.value);\n            }\n            // Label Split Net Profit, Distributions\n            if(dealType.value == \"netProfit\" || dealType.value == \"distributionPercent\") {\n                if(profit < 0){\n                    labelShare = 0;\n                } else {\n                    labelShare = (profit * (1-(parseFloat(artistDeal.value)/100)));\n                }\n            } else labelShare = grossRevenue - artistShare;\n\n            /* Nik Label Share for Net Profit, %Distribution Deals\n            if(profit < 0){\n              labelShare = 0;\n            } else {\n              labelShare = (profit * (1-(parseFloat(artistDeal.value)/100)));\n            }\n            */\n\n        } else if (dealType.value == \"labelServices\") {\n            // Artist Split\n            if((grossRevenue * (parseFloat(artistDeal.value)/100)) <= totalMoneyToRecoupe){\n              console.log(\"unrecouped\");\n              artistShare = 0;\n            } else {\n              artistShare = (grossRevenue * (parseFloat(artistDeal.value)/100)) - totalMoneyToRecoupe;\n            }\n            labelShare = grossRevenue * (1-(parseFloat(artistDeal.value)/100)) + allCosts.value;//extra menu items would be factored into costs\n        }\n\n\n        grossRev.value = grossRevenue;\n        totRecoupe.value = totalMoneyToRecoupe;\n        earningsArtist.value = artistShare;\n        earningsPublisher.value = labelShare;\n        getTotalEarnings(artistShare);\n\n    }\n    getPublisherShare() {\n\n        let pubGrossRevenue = avgPubPayout * this.state.estStreams;\n        let pubPerformanceRevenue = pubGrossRevenue * .5;\n        let pubMechanicalRevenue = pubGrossRevenue * .5;\n        let pubPROAdminFee = pubPerformanceRevenue * .165;\n        let pubMechanicalAdminFee = pubMechanicalRevenue * .15;\n        let pubMechanicalRecordFee = (pubMechanicalRevenue - pubMechanicalAdminFee) * .3;\n\n        let publisherPercentage;\n\n        if(this.state.publishingDealSelected == \"fullTrad\") {\n            publisherPercentage = 1.0;\n            this.state.publisherShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) * publisherPercentage;\n            this.state.writerShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) + (((pubPerformanceRevenue - pubPROAdminFee) * .5) * (1- publisherPercentage)) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n        } else if(this.state.publishingDealSelected == \"coPublishing\") {\n            publisherPercentage = 0.5;\n            this.state.publisherShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) * publisherPercentage;\n            this.state.writerShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) + (((pubPerformanceRevenue - pubPROAdminFee) * .5) * (1- publisherPercentage)) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n        } else if(this.state.publishingDealSelected == \"adminDeal\") {\n            publisherPercentage = 0.1;\n            this.state.publisherShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) * publisherPercentage;\n            this.state.writerShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) + (((pubPerformanceRevenue - pubPROAdminFee) * .5) * (1- publisherPercentage)) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n        } else if(this.state.publishingDealSelected == \"noDeal\") {\n            publisherPercentage = 0.0;\n            this.state.publisherShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) * publisherPercentage;\n            this.state.writerShare = ((pubPerformanceRevenue - pubPROAdminFee) * .5) + (((pubPerformanceRevenue - pubPROAdminFee) * .5) * (1- publisherPercentage)) + (pubMechanicalRevenue - (pubMechanicalAdminFee + pubMechanicalRecordFee));\n        }\n    }\n\n    weightedAverageOfSelected() {\n        let sum = 0.0;\n        for(let i=0; i < this.state.providers.length; i++) {\n          if(this.state.providers[i].includeInCalculations) {\n                sum += (this.state.providers[i].payoutPerStream * this.state.providers[i].marketShareStreams)\n            }\n        }\n        let sumOfWeights = 0.0;\n        for(let i=0;i < this.state.providers.length; i++) {\n            sumOfWeights += this.state.providers[i].marketShareStreams\n        }\n        console.log(sum/sumOfWeights);\n        return sum/sumOfWeights;\n    }\n\n\n\n\n}\n\n\nexport default CalcPage;\n"]},"metadata":{},"sourceType":"module"}