{"ast":null,"code":"import React from 'react';\nimport './App.css';\nimport SmallText from './components/SmallText.js';\nconst ce = React.createElement; //average / approx payout for publishing for stream\n\nconst avgPubPayout = 0.0007174565191; //handling dsps\n\nlet spotify = {\n  id: 0,\n  name: \"Spotify\",\n  payoutPerStream: 0.00331,\n  marketShareStreams: .2922,\n  marketShareDollars: .4893,\n  includeInCalculations: true\n};\nlet apple = {\n  id: 1,\n  name: \"Apple Music\",\n  payoutPerStream: 0.00495,\n  marketShareStreams: .0995,\n  marketShareDollars: .2497,\n  includeInCalculations: true\n};\nlet youtube = {\n  id: 2,\n  name: \"Youtube Content ld\",\n  payoutPerStream: 0.00028,\n  marketShareStreams: .4858,\n  marketShareDollars: .0699,\n  includeInCalculations: true\n};\nlet amazon = {\n  id: 3,\n  name: \"Amazon Unlimited\",\n  payoutPerStream: 0.01175,\n  marketShareStreams: .0068,\n  marketShareDollars: .0404,\n  includeInCalculations: true\n};\nlet google = {\n  id: 4,\n  name: \"Google Play\",\n  payoutPerStream: 0.00543,\n  marketShareStreams: .0112,\n  marketShareDollars: .0308,\n  includeInCalculations: true\n};\nlet pandora = {\n  id: 5,\n  name: \"Pandora\",\n  payoutPerStream: 0.00155,\n  marketShareStreams: .0386,\n  marketShareDollars: .0303,\n  includeInCalculations: true\n};\nlet deezer = {\n  id: 6,\n  name: \"Deezer\",\n  payoutPerStream: 0.00567,\n  marketShareStreams: .0091,\n  marketShareDollars: .026,\n  includeInCalculations: true\n};\nlet amazonDig = {\n  id: 7,\n  name: \"Amazon Digital Services\",\n  payoutPerStream: 0.00395,\n  marketShareStreams: .0095,\n  marketShareDollars: .019,\n  includeInCalculations: true\n};\nlet tidal = {\n  id: 8,\n  name: \"TIDAL\",\n  payoutPerStream: 0.00927,\n  marketShareStreams: 0.0021,\n  marketShareDollars: 0.0098,\n  includeInCalculations: true\n};\nlet others = {\n  id: 9,\n  name: \"Napster / Rhapsody\",\n  payoutPerStream: 0.0111,\n  marketShareStreams: 0.0014,\n  marketShareDollars: 0.0080,\n  includeInCalculations: true\n};\n\nfunction buildArr() {\n  return [spotify, apple, youtube, amazon, google, pandora, deezer, amazonDig, tidal, others];\n}\n\nfunction toggleMe(arr, index) {\n  arr[index].includeInCalculations = !arr[index].includeInCalculations; //console.log(dsps[index].name);\n  //console.log(dsps[index].includeInCalculations);\n}\n\nclass CalcPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      streamNumber: null,\n      role: null,\n      recordDeal: [],\n      publishDeal: [],\n      sliderValue: null,\n      recordDealSelected: null,\n      publishingDealSelected: null,\n      advance: null,\n      costs: null,\n      prov: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"mounted\");\n    this.buildRecordDealSelect();\n    this.handleRoleButton(\"Writer & Artist\");\n    this.buildPublishingDealSelect();\n    this.setSliderValue(50);\n    this.setInitialStates();\n  }\n\n  render() {\n    return ce('div', null, ce('h2', {\n      className: \"font\"\n    }, 'Welcome to the Revenue Calculator'), ce('input', {\n      id: \"estStreams\",\n      type: \"text\",\n      placeholder: \"Enter Est. Streams\",\n      onChange: e => this.changeStreams(e)\n    }), ce('br'), ce('text', null, 'Role: '),\n    /*ce('select', {onChange: e => this.handleRoleSelect(e)}, \n        this.state.roles.map(role => ce('option', {key: role.id}, role.name))\n        ),*/\n    ce('button', {\n      onClick: e => this.handleRoleButton(\"artist\")\n    }, 'Artist Only'), ce('button', {\n      onClick: e => this.handleRoleButton(\"writer\")\n    }, 'Writer Only'), ce('button', {\n      onClick: e => this.handleRoleButton(\"both\")\n    }, 'Writer & Artist'), ce('br'), ce('text', null, 'Record Deal Type: '), ce('select', {\n      onChange: e => this.handleRecDealSelect(e)\n    }, this.state.recordDeal.map(deal => ce('option', {\n      key: deal.id\n    }, deal.name))), ce('br'), ce('text', null, 'Publishing Deal Type: '), ce('select', {\n      onChange: e => this.handlePublishingDealSelect(e)\n    }, this.state.publishDeal.map(deal => ce('option', {\n      key: deal.id\n    }, deal.name))), ce('br'), ce('text', null, 'Deal Split: '), ce('input', {\n      type: 'range',\n      min: '1',\n      max: '100',\n      id: 'splitSlider',\n      onChange: e => this.updateSlider(e)\n    }), ce('text', null, 'Guaranteed Income: '), ce('input', {\n      id: \"fromAdvance\",\n      placeholder: \"From Advance\",\n      onChange: e => this.updateAdvance(e)\n    }), ce('br'), ce('text', null, 'Costs: '), ce('input', {\n      placeholder: 'Costs',\n      onChange: e => this.updateCosts(e)\n    }), ce('br'), ce('text', null, 'Recoupable: '), ce('input', {\n      type: 'checkbox',\n      checked: 'true'\n    }), ce('br'), ce('text', null, 'DSPs'), ce('br'), ce('table', {\n      id: 'dspTable'\n    }, ce('thead', null, ce('tr', null, ce('th', null, \"Platform\"), ce('th', null, \"Include\"))) //,\n    //<!--ce('tbody', null, this.state.prov.map(provs => ce('tr', null, ce('td', null, ce('text', null, provs.name))), ce('tr', null, ce('td', null, ce('input', {type: 'checkbox', checked: provs.includeInCalculations, onClick: e => toggleMe(provs.id)})))))-->\n    ));\n  }\n\n  setInitialStates() {\n    console.log(dsps);\n    this.setState({\n      prov: JSON.parse(JSON.stringify(dsps))\n    });\n    this.setState({\n      streamNumber: 1000000000,\n      role: \"Writer & Artist\",\n      recordDealDelected: \"Royalty\",\n      publishingDealSelected: \"Full/Traditional\",\n      advance: 0,\n      costs: 0\n    });\n    console.log(this.state.prov);\n  }\n\n  changeStreams(e) {\n    console.log(\"changed streams to: \" + e.target.value);\n    this.setState({\n      streamNumber: e.target.value\n    });\n  }\n\n  updateAdvance(e) {\n    console.log(\"changed advance to: \" + e.target.value);\n    this.setState({\n      advance: e.target.value\n    });\n  }\n\n  updateCosts(e) {\n    console.log(\"changed costs to: \" + e.target.value);\n    this.setState({\n      costs: e.target.value\n    });\n  }\n\n  setSliderValue(val) {\n    this.setState({\n      sliderValue: val\n    });\n  }\n\n  updateSlider(e) {\n    console.log(e.target.value); //val = document.getElementById(\"splitSlider\").value()\n\n    this.setState({\n      sliderValue: e.target.value\n    });\n  }\n\n  buildPublishingDealSelect() {\n    let fullTrad = {\n      id: 0,\n      name: \"Full/Traditional\"\n    };\n    let coPublishing = {\n      id: 1,\n      name: \"Co-Publishing\"\n    };\n    let adminDeal = {\n      id: 2,\n      name: \"Admin Deal\"\n    };\n    let noDeal = {\n      id: 3,\n      name: \"No Deal\"\n    };\n    let deals = [fullTrad, coPublishing, adminDeal, noDeal];\n    this.setState({\n      publishDeal: deals\n    });\n  }\n\n  handlePublishingDealSelect(e) {\n    console.log(e.target.value);\n    this.setState({\n      publishingDealSelected: e.target.value\n    });\n  }\n\n  handleRoleButton(which) {\n    console.log(which);\n    this.setState({\n      role: which\n    });\n  } // handleRecDealSelect(e)\n\n\n  handleRecDealSelect(e) {\n    //console.log(\"selecting Roles\");\n    console.log(e.target.value);\n    this.setState({\n      recordDealSelected: e.target.value\n    });\n  }\n\n  buildRecordDealSelect() {\n    //console.log(\"Roles!\");\n    let royalty = {\n      id: 0,\n      name: \"Royalty\"\n    };\n    let netProfit = {\n      id: 1,\n      name: \"Net Profit\"\n    };\n    let distributionPercent = {\n      id: 2,\n      name: \"Distribution Percent\"\n    };\n    let labelServices = {\n      id: 3,\n      name: \"Label Services\"\n    };\n    let rls = [royalty, netProfit, distributionPercent, labelServices];\n    this.setState({\n      recordDeal: rls\n    });\n  }\n\n}\n\nexport default CalcPage;","map":{"version":3,"sources":["/Users/samvincent/Desktop/MusicStreamingCalculator/src/CalcPage.js"],"names":["React","SmallText","ce","createElement","avgPubPayout","spotify","id","name","payoutPerStream","marketShareStreams","marketShareDollars","includeInCalculations","apple","youtube","amazon","google","pandora","deezer","amazonDig","tidal","others","buildArr","toggleMe","arr","index","CalcPage","Component","constructor","props","state","streamNumber","role","recordDeal","publishDeal","sliderValue","recordDealSelected","publishingDealSelected","advance","costs","prov","componentDidMount","console","log","buildRecordDealSelect","handleRoleButton","buildPublishingDealSelect","setSliderValue","setInitialStates","render","className","type","placeholder","onChange","e","changeStreams","onClick","handleRecDealSelect","map","deal","key","handlePublishingDealSelect","min","max","updateSlider","updateAdvance","updateCosts","checked","dsps","setState","JSON","parse","stringify","recordDealDelected","target","value","val","fullTrad","coPublishing","adminDeal","noDeal","deals","which","royalty","netProfit","distributionPercent","labelServices","rls"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport SmallText from './components/SmallText.js';\n\nconst ce = React.createElement;\n\n\n//average / approx payout for publishing for stream\nconst avgPubPayout = 0.0007174565191\n\n\n//handling dsps\nlet spotify = {\n  id: 0,\n  name: \"Spotify\",\n  payoutPerStream: 0.00331,\n  marketShareStreams: .2922,\n    marketShareDollars: .4893,\n    includeInCalculations: true\n}\nlet apple = {\n  id: 1,\n  name: \"Apple Music\",\n  payoutPerStream: 0.00495,\n  marketShareStreams: .0995,\n    marketShareDollars: .2497,\n    includeInCalculations: true\n}\nlet youtube = {\n  id: 2,\n  name: \"Youtube Content ld\",\n  payoutPerStream: 0.00028,\n  marketShareStreams: .4858,\n    marketShareDollars: .0699,\n    includeInCalculations: true\n}\nlet amazon = {\n  id: 3,\n  name: \"Amazon Unlimited\",\n  payoutPerStream: 0.01175,\n  marketShareStreams: .0068,\n    marketShareDollars: .0404,\n    includeInCalculations: true\n}\nlet google = {\n  id: 4,\n  name: \"Google Play\",\n  payoutPerStream: 0.00543,\n  marketShareStreams: .0112,\n    marketShareDollars: .0308,\n    includeInCalculations: true\n}\nlet pandora = {\n  id: 5,\n  name: \"Pandora\",\n  payoutPerStream: 0.00155,\n  marketShareStreams: .0386,\n    marketShareDollars: .0303,\n    includeInCalculations: true\n}\nlet deezer = {\n  id: 6,\n  name: \"Deezer\",\n  payoutPerStream: 0.00567,\n  marketShareStreams: .0091,\n    marketShareDollars: .026,\n    includeInCalculations: true\n}\nlet amazonDig = {\n  id: 7,\n  name: \"Amazon Digital Services\",\n  payoutPerStream: 0.00395,\n  marketShareStreams: .0095,\n    marketShareDollars: .019,\n    includeInCalculations: true\n}\nlet tidal = {\n  id: 8,\n  name: \"TIDAL\",\n  payoutPerStream: 0.00927,\n  marketShareStreams: 0.0021,\n    marketShareDollars: 0.0098,\n    includeInCalculations: true\n}\nlet others = {\n  id: 9,\n  name: \"Napster / Rhapsody\",\n  payoutPerStream: 0.0111,\n  marketShareStreams: 0.0014,\n    marketShareDollars: 0.0080,\n    includeInCalculations: true\n}\n\nfunction buildArr() {\n   return [spotify, apple, youtube, amazon, google, pandora, deezer, amazonDig, tidal, others]\n}\n\nfunction toggleMe(arr, index) {\n  arr[index].includeInCalculations = !arr[index].includeInCalculations;\n  //console.log(dsps[index].name);\n  //console.log(dsps[index].includeInCalculations);\n}\n\n\n\n\n\n\n\nclass CalcPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            streamNumber: null,\n            role: null,\n            recordDeal: [],\n            publishDeal: [],\n            sliderValue: null,\n            recordDealSelected: null,\n            publishingDealSelected: null,\n            advance: null,\n            costs: null,\n            prov: []\n        };\n\n    }\n\n    componentDidMount() {\n        console.log(\"mounted\");\n        this.buildRecordDealSelect();\n        this.handleRoleButton(\"Writer & Artist\");\n        this.buildPublishingDealSelect();\n        this.setSliderValue(50);\n        this.setInitialStates();\n    }\n\n    render() {\n      return ce('div', null,\n        ce('h2', {className: \"font\"}, 'Welcome to the Revenue Calculator'),\n            ce('input', {id: \"estStreams\", type: \"text\", placeholder: \"Enter Est. Streams\", onChange: e => this.changeStreams(e)}),\n            ce('br'),\n            ce('text', null, 'Role: '),\n            /*ce('select', {onChange: e => this.handleRoleSelect(e)}, \n                this.state.roles.map(role => ce('option', {key: role.id}, role.name))\n                ),*/\n            ce('button', {onClick: e => this.handleRoleButton(\"artist\")}, 'Artist Only'),\n            ce('button', {onClick: e => this.handleRoleButton(\"writer\")}, 'Writer Only'),\n            ce('button', {onClick: e => this.handleRoleButton(\"both\")}, 'Writer & Artist'),\n            ce('br'),\n            ce('text', null, 'Record Deal Type: '),\n            ce('select', {onChange: e => this.handleRecDealSelect(e)}, \n                this.state.recordDeal.map(deal => ce('option', {key: deal.id}, deal.name))\n                ),\n            ce('br'),\n            ce('text', null, 'Publishing Deal Type: '),\n            ce('select', {onChange: e => this.handlePublishingDealSelect(e)},\n                this.state.publishDeal.map(deal => ce('option', {key: deal.id}, deal.name))\n                ),\n            ce('br'),\n            ce('text', null, 'Deal Split: '),\n            ce('input', {type: 'range', min: '1', max: '100', id: 'splitSlider', onChange: e => this.updateSlider(e)}),\n            ce('text', null, 'Guaranteed Income: '),\n            ce('input', {id: \"fromAdvance\", placeholder: \"From Advance\", onChange: e => this.updateAdvance(e)}),\n            ce('br'),\n            ce('text', null, 'Costs: '),\n            ce('input', {placeholder: 'Costs', onChange: e => this.updateCosts(e)}),\n            ce('br'),\n            ce('text', null, 'Recoupable: '),\n            ce('input', {type: 'checkbox', checked: 'true'}),\n            ce('br'),\n            ce('text', null, 'DSPs'),\n            ce('br'),\n            ce('table', {id: 'dspTable'}, \n              ce('thead', null, ce('tr', null, ce('th', null, \"Platform\"), ce('th', null, \"Include\")))//,\n              //<!--ce('tbody', null, this.state.prov.map(provs => ce('tr', null, ce('td', null, ce('text', null, provs.name))), ce('tr', null, ce('td', null, ce('input', {type: 'checkbox', checked: provs.includeInCalculations, onClick: e => toggleMe(provs.id)})))))-->\n            )\n            \n        )\n\n    }\n\n    setInitialStates() {\n      console.log(dsps)\n      this.setState({prov: JSON.parse(JSON.stringify(dsps))});\n\n      this.setState({streamNumber: 1000000000,role: \"Writer & Artist\", recordDealDelected: \"Royalty\", publishingDealSelected: \"Full/Traditional\", advance: 0, costs: 0});\n\n        console.log(this.state.prov)\n    }\n\n    changeStreams(e) {\n        console.log(\"changed streams to: \" + e.target.value);\n        this.setState({streamNumber: e.target.value});\n    }\n\n    updateAdvance(e) {\n      console.log(\"changed advance to: \" + e.target.value);\n      this.setState({advance: e.target.value});\n    }\n\n    updateCosts(e) {\n        console.log(\"changed costs to: \" + e.target.value);\n        this.setState({costs: e.target.value});\n    }\n\n    setSliderValue(val) {\n        this.setState( {sliderValue: val})\n    }\n    updateSlider(e) {\n        console.log(e.target.value)\n        //val = document.getElementById(\"splitSlider\").value()\n        this.setState( {sliderValue: e.target.value})\n    }\n\n    buildPublishingDealSelect() {\n        let fullTrad = {\n            id: 0,\n            name: \"Full/Traditional\"\n        }\n        let coPublishing = {\n            id: 1,\n            name: \"Co-Publishing\"\n        }\n        let adminDeal = {\n            id: 2,\n            name: \"Admin Deal\"\n        }\n        let noDeal = {\n            id: 3,\n            name: \"No Deal\"\n        }\n        let deals = [fullTrad, coPublishing, adminDeal, noDeal]\n        this.setState( {publishDeal: deals})\n    }\n\n    handlePublishingDealSelect(e) {\n        console.log(e.target.value);\n        this.setState({publishingDealSelected: e.target.value})\n    }\n\n\n    handleRoleButton(which) {\n        console.log(which);\n        this.setState({role: which})\n    }\n\n   // handleRecDealSelect(e)\n\n    handleRecDealSelect(e) {\n        //console.log(\"selecting Roles\");\n        console.log(e.target.value);\n        this.setState({recordDealSelected: e.target.value})\n    }\n\n    buildRecordDealSelect() {\n        //console.log(\"Roles!\");\n        let royalty = {\n            id: 0,\n            name: \"Royalty\"\n        };\n        let netProfit = {\n            id: 1,\n            name: \"Net Profit\"\n        };\n        let distributionPercent = {\n            id: 2,\n            name: \"Distribution Percent\"\n        };\n        let labelServices = {\n            id: 3,\n            name: \"Label Services\"\n        }\n\n        let rls = [royalty, netProfit, distributionPercent, labelServices];\n        this.setState( {recordDeal: rls} );\n    }\n\n\n\n\n\n}\n\n\nexport default CalcPage;\n"]},"metadata":{},"sourceType":"module"}